<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <!-- Chart.js Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>  
    
    <!-- Application scripts and styles -->    
    <link rel="stylesheet" href="lib/styles/master.css"/>
    <script src="lib/scripts/extensions.js"></script>
    <script src="lib/scripts/validation.js"></script>
    <script src="lib/scripts/main.js"></script>
    <script src="lib/scripts/secondary.js"></script>

    <!-- Initial page state -->
    <script>
        // $(document).ready(function(){
        //     $('#table-and-graph').load('index/table-and-graph.html');
        // })
    </script>
    <title>Mortgage Calculator</title>
</head>
  <body>
    <nav class="navbar  navbar-theme">
        <a class="navbar-brand navbar-theme" href="/index.html">Mortgage Calculator</a>
    </nav>
    <div class="container">
        <div id="calculator"></div>
        <p class="text-center pb-4" style="font-size: 1.2em; padding-top: 70px;">Enter the information required below to generate your mortgage payment projections</p>
        <form>
            <div class="row">
                <div class="col-sm-6 px-5">
                    <label for="mortgageAmount">Mortgage Amount</label>
                <div class="input-group mb-4">
                    <input type="numeric" class="form-control" id="mortgageAmount" oninput="mortgageAmountValidation(this)">
                    <div class="input-group-append">
                        <span class="input-group-text">$</span>
                    </div>
                </div>
                </div>
                <div class="col-sm-6 px-5">
                    <label for="mortgageAmount">Amortization Period</label>
                <div class="input-group mb-4">
                    <select class="custom-select" id="amortizationPeriod">
                        <optgroup label="Typical Amortization Periods">
                            <option value="25" selected>25 Years</option>
                            <option value="30">30 Years</option>
                        </optgroup>
                        <optgroup label="All Options">
                            <option value="1">1 Year</option>
                            <option value="2">2 Years</option>
                            <option value="3">3 Years</option>
                            <option value="4">4 Years</option>
                            <option value="5">5 Years</option>
                            <option value="6">6 Years</option>
                            <option value="7">7 Years</option>
                            <option value="8">8 Years</option>
                            <option value="9">9 Years</option>
                            <option value="10">10 Years</option>
                            <option value="11">11 Years</option>
                            <option value="12">12 Years</option>
                            <option value="13">13 Years</option>
                            <option value="14">14 Years</option>
                            <option value="15">15 Years</option>
                            <option value="16">16 Years</option>
                            <option value="17">17 Years</option>
                            <option value="18">18 Years</option>
                            <option value="19">19 Years</option>
                            <option value="20">20 Years</option>
                            <option value="21">21 Years</option>
                            <option value="22">22 Years</option>
                            <option value="23">23 Years</option>
                            <option value="24">24 Years</option>
                            <option value="25">25 Years</option>
                            <option value="26">26 Years</option>
                            <option value="27">27 Years</option>
                            <option value="28">28 Years</option>
                            <option value="29">29 Years</option>
                            <option value="30">30 Years</option>
                        </optgroup>
                    </select>
                </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6 px-5">
                    <label for="mortgage-amount">Payment Frequency</label>
                    <div class="input-group mb-4">
                        <select class="custom-select" id="paymentFrequency">
                            <option value="12">Monthly</option>
                            <option value="24">Semi-Monthly</option>
                            <option value="26">Bi-Weekly</option>
                            <option value="52">Weekly</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-6 px-5">
                    <label for="interest-rate">Interest Rate</label>
                <div class="input-group mb-4">
                    <input type="numeric" class="form-control" id="interestRate" oninput="interestRateValidation(this)">
                    <div class="input-group-append">
                        <span class="input-group-text">%</span>
                    </div>
                </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6 px-5">
                    <label for="mortgage-amount">Mortgage Term</label>
                    <div class="input-group mb-4">
                        <select class="custom-select" id="interestTerm">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-6 px-5 text-center d-flex justify-content-between align-content-end mb-3">
                    <button type="button" onclick="reset()" class="btn mr-4 btn-b-n" style="background-color: rgb(179, 179, 179);">RESET</button>
                    <button type="button" onclick="CalculateInterest()" class="btn ml-4 btn-b-n" style="background-color: #b13b3b;">CALCULATE</button>
                </div>
            </div>
        </form>
        <div class="row py-5 px-5">
            <div class="col-sm-8 d-flex align-items-center">
                <ul>
                    <li id="principal-end-term" class="mb-3">Principal paid by the end of the term: <span id="principal-paid" class="term-details"></span></li>
                    <li id="interest-end-term" class="mb-3">Interest paid by the end of the term: <span id="interest-paid" class="term-details"></span></li>
                    <li id="paid-end-term" class="mb-3">Total paid by the end of the term: <span id="total-paid" class="term-details"></span></li>
                    <li id="balance-end-term" class="mb-3">Remaining balance by the end of the term: <span id="remaining-principal" class="term-details"></span></li>
                </ul>
            </div>
            <div class="col-sm-4 d-flex text-center flex-column align-items-center payment-section">
               
                    <div id="payment-header" class="payment-header mt-auto"></div>
                    <div id="payment-details" class="payment-details mb-auto"></div>
               
            </div>
        <div class="row pt-5 pb-2 container rm">
            <div class="col-sm-10 d-flex flex-row details-row text-center">
                <p>AMOUNT: <span id="details-amount"></span></p>
                <p>YEARS: <span id="details-years"></span></p>
                <p>RATE: <span id="details-rate"></span></p>
                <p>TERM: <span id="details-term"></span></p>
                <p>FREQUENCY: <span id="details-frequency"></span></p>
            </div>
            <div class="col-sm-2 flex-row d-flex justify-content-end view-group">
                <p class="my-auto font-weight-bold">View</p>
                <button class="graph-btn d-flex ml-3"></button>
                <button class="list-btn d-flex ml-3"></button>
            </div>
            </div>
        <div>

        </div>
    </div>
    
    <div id="details-section" class="col container">
        <div class="table-and-graph-container text-center">
            <div id="table-and-graph">
                <div id="List-view" class="table show table-responsive ">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col">Year</th>
                                <th scope="col">Principal Outstanding</th> <!--[TJ:SUGGEST CHANGE]: Let's remove this-->
                                <th scope="col">Payment</th>
                                <th scope="col">Interest</th>
                                <th scope="col">Principal</th>
                                <th scope="col">New Principal Outstanding</th><!--[TJ:SUGGEST CHANGE]: Let's call it "Principal Outstanding"-->
                            </tr>
                        </thead>
                        <tbody id="table-body">
                            <!-- Javascript Generated Body -->
                        </tbody>
                    </table>
                </div>   
                <div id="Graph-view" role="tabpanel">
                    <canvas id="paymentsChart"></canvas>
                </div>
            </div>
        </div>
    </div>
    </body>
</html>